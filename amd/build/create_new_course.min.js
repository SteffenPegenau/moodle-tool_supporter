define(["jquery","core/ajax","core/templates","core/notification","core/str","tool_supporter/load_information"],function(a,b,c,d,e,f){return{show_new_course:function(){a("#btn_show_new_course").on("click",function(){a('[data-region="create_new_course_section"]').toggle()})},create_new_course:function(){a("#create_new_course_button").on("click",function(){var c=b.call([{methodname:"tool_supporter_create_new_course",args:{shortname:a("#new_course_short_name_input")[0].value,fullname:a("#new_course_full_name_input")[0].value,visible:a("#new_course_is_visible").is(":checked"),categoryid:a("#new_course_category_input")[0].value}}]);c[0].done(function(b){console.log("create new course return data: "),console.log(b);var c=f.show_course_detail(b.id,!0);a('[data-region="create_new_course_section"]').toggle();var d,e=a.fn.dataTable.tables();a.each(e,function(a,b){if(b.id.indexOf("courseTable")>=0)return d=b.id,!1}),c[0].done(function(b){var c=0;b.courseDetails.visible&&(c=1),a("#"+d).DataTable().row.add({id:b.courseDetails.id,shortname:b.courseDetails.shortname,fullname:b.courseDetails.fullname,fb:b.courseDetails.fb,semester:b.courseDetails.semester,visible:c}).draw(!1)})}),c[0].fail(function(){e.get_string("error","error").done(function(a){e.get_string("duplicateroleshortname","error").done(function(b){e.get_string("continue","hub").done(function(c){d.alert(a,b,c)})})})})})}}});